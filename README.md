# Bayl - простой скриптовый яп с динамической типизацией

## [Настройка проекта для запуска в IDE](doc/ide_program_startup.md)

---
# Основные правила

- Все всегда начинается с `имени` и заканчивается `;`

  Примеры:
  ```js
  num = 1;
  str = "a";
  
  arr = [];
  dict = {};
  
  sum = function(a, b) {};
  
  person = class {};
  ```
  
- Массивы, словари, классы и функции - ссылочные типы, а числа и строки - значимые.

- Нельзя, чтобы в названии переменной было что-то кроме буквы или нижнего подчеркивания
---
# Переменные

Описание типов:

- number - для различных чисел

  - Десятичные числа:

    Формат: 123, 123.456, 123e10, 123.456e-2.
    Числа могут содержать дробную часть (.) и экспоненту (e или E) с необязательным знаком (+ или -).
  
  - Шестнадцатеричные числа:
  
    Формат: 0x1A3F, 0Xabc.
    Начинаются с 0x или 0X, за которыми следуют символы от 0 до 9 и от A до F (или их строчные аналоги).
  
  - Восьмеричные числа:
  
    Формат: 0o123, 0O777.
    Начинаются с 0o или 0O, за которыми следуют цифры от 0 до 7.

  - Двоичные числа:
  
    Формат: 0b1010, 0B1101.
    Начинаются с 0b или 0B, за которыми следуют цифры 0 или 1.

- string - для строк и символов

  формат: "s", 's', "string", 'string'

- array - для массивов

  формат: [], [элемент, элемент]

- dictionary - для словарей

  формат: {}, {ключ : значение}

- function - для функций

  формат: function() {}, function(аргумент1, аргумент2) {} 
  Эти функции могут получать все из общей памяти, но не могут ее менять

- recursion - для рекурсивных функций с оптимизацией под хвостовую

  формат: recursion() {}, recursion(аргумент1, аргумент2) {}

- class - для классов

  формат: class {}

- null - для обозначения того, что переменная ничего не содержит

  формат: null
---

# Операторы

Арифметические операторы:

- `+` Добавляет два операнда.
- `-` Вычитает второй операнд с первого.
- `*` Умножает оба операнда.
- `/` Делит числитель на делитель.
- `%` Оператор модуля и остаток после целочисленного деления.
- `^` Оператор возведения в степень.

Операторы сравнения:

- `==` Проверяет, равны ли значения двух операндов или нет, если да, то условие становится истинным.
- `>` Проверяет, превышает ли значение левого операнда значение правого операнда, если да, тогда условие становится истинным.
- `<` Проверяет, является ли значение левого операнда меньше значения правильного операнда, если да, тогда условие становится истинным.
- `=>` Проверяет, превышает ли значение левого операнда значение правого операнда, если да, тогда условие становится истинным.
- `<=` Проверяет, является ли значение левого операнда меньше или равно значению правильного операнда, если да, тогда условие становится истинным.

Логические операторы:

- `&&` Является логическим оператором `И`.
- `||` Является логическим оператором `ИЛИ`

Операторы для работы со строками:

- `~` Конкатенация двух строк

Операторы присваивания:

- `=` Простой оператор присваивания, присваивает значения из правых операндов в левый операнд.

---

# Циклы

Циклы обозначаются ключевым словом `while` и `foreach`.
  
- `while`:
  
  ```js
  while (i < 239) {
      println(i);
      i = i + 1;
  }
  ```
  
  В этом примере цикл будет продолжать выполняться до тех пор, пока `i` - значение меньше 239.


- `foreach`:

  ```js
  arr = [1, 2, 3];
  
  foreach(arr as i) {
      print(i);
  }
  ```

---

# Функции

Общая форма функции:

```bayl
название = function(аргумент1, аргумент2) {
    тело
    return то что нужно вернуть, если что-то нужно вернуть 
}
```

Пример функции:

```js
sum = function(a, b) {
  return a + b;  
};
```

# Коллекции

Методы массива:

```js
arr = [1, 2, 3];

len(arr); // вернет 3
push(arr, 4); // в arr будет 1, 2, 3, 4
print(arr); // выведет [1, 2, 3, 4]
```

Методы словаря:

```js
dict = {"1" : 1};

len(dict); // вернет 1
push(dict, "2" : 2); // в dict будет "1" : 1, "2" : 2
print(dict); // выведет {1=1}
```

---

# Комментарии

- однострочные
  ```js
  // коммент
  ```
- многострочные
  ```js
  /* комменты
  комменты */
  ```

# Встроенные функции

- `print` и `println` выводят то, что было передано как аргумент
  примеры:
  ```js
  println(239);
  print("239");
  ```
- `len` выводят длину строки и массива соответственно
  примеры:
  ```js
  len([1, 3, 4]); // вернет 3
  len("bayl"); // вернет 4
  len({1 : 3, 2 : 3, 3 : 8}); // вернет 3
  ```
- `push` добавит элемент в конец коллекции
  пример:
  ```js
  arr = [1, 2];
  push(arr, 3); // в arr будет 1, 2, 3
  
  dict = {1 : 2};
  push(dict, 3 : 4); // в dict будет 1 : 2, 3 : 4
  ```

- `isNull` проверяет аргумент на то, что он равен null
  пример:
  ```js
  n = null;
  
  isNull(n); // вернет true
  ```

- `min` и `max` возвращают минимальное и максимальное число соответственно
  пример:
  ```js
  a = 7;
  b = 6;
  
  min(a, b); // вернет 6
  max(a, b); // вернет 7
  ```

- `scanNumber`, `scanBoolean` и `scanString` - функции для ввода
  пример:
  ```js
  num = scanNumber();
  bool = scanBoolean();
  str = scanString();
  ```
  
- `gc` принудительно вызывает сборщик мусора
  пример:
  ```js
  gc(); // вернёт true или false в зависимости от того, был ли вызван сборщик мусора
  ```

# Классы 

- На данный момент кассы находятся на ранней стадии и могут не всегда работать корректно
- Полем класса может быть любое значение.

  Примеры:

  ```js
  person = class {
    age = 20;
    name = "Micle";

    printAge = function () {
        return println(age);
    };
  };

  person -> printAge();
  ```